<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>NWB Workshops and Hackathons | Materials related to the Neurodata Without Borders (NWB) User Days Workshops and Hackathons</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="NWB Workshops and Hackathons" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Materials related to the Neurodata Without Borders (NWB) User Days Workshops and Hackathons" />
<meta property="og:description" content="Materials related to the Neurodata Without Borders (NWB) User Days Workshops and Hackathons" />
<link rel="canonical" href="http://nwb.org/nwb_hackathons/HCK06_2019_Janelia/projects/ExtensionSharing/" />
<meta property="og:url" content="http://nwb.org/nwb_hackathons/HCK06_2019_Janelia/projects/ExtensionSharing/" />
<meta property="og:site_name" content="NWB Workshops and Hackathons" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="NWB Workshops and Hackathons" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Materials related to the Neurodata Without Borders (NWB) User Days Workshops and Hackathons","headline":"NWB Workshops and Hackathons","url":"http://nwb.org/nwb_hackathons/HCK06_2019_Janelia/projects/ExtensionSharing/"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/nwb_hackathons/assets/css/style.css?v=c195892c536e8b7cdc1c45d8570b96d2f6ed4aec">
    <link rel="shortcut icon" type="image/png" href="/nwb_hackathons/assets/favicon_96.png?v=c195892c536e8b7cdc1c45d8570b96d2f6ed4aec">


    <!-- for github edit ribbon; main include is in `assets/css/style.scss` -->
<!--[if lt IE 9]>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.0/gh-fork-ribbon.ie.min.css" />
<![endif]-->

  </head>
  <body>

    <a class="github-fork-ribbon" href="https://github.com/NeurodataWithoutBorders/nwb_hackathons/edit/main/HCK06_2019_Janelia/projects/ExtensionSharing/README.md" data-ribbon="Edit this page" title="Edit this page">Edit this page</a>

    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://nwb.org/nwb_hackathons/">NWB Workshops and Hackathons</a></h1>
      

      <p><a href="/nwb_hackathons/HCK06_2019_Janelia/#ProjectsList"><img class="emoji" title=":rewind:" alt=":rewind:" src="https://github.githubassets.com/images/icons/emoji/unicode/23ea.png" height="20" width="20"> Back to the projects list</a></p>

<!-- For information on how to write GitHub .md files see https://guides.github.com/features/mastering-markdown/ -->

<h1 id="sharing-nwbn-extensions">Sharing NWB:N Extensions</h1>

<h2 id="key-investigators">Key Investigators</h2>

<ul>
  <li>Oliver Ruebel</li>
  <li>Ryan Ly</li>
  <li>Andrew Tritt</li>
  <li>Ben Dichter</li>
  <li>Jean-Christophe Fillion-Robin</li>
</ul>

<h2 id="project-description">Project Description</h2>

<p>Develop methods for sharing NWB:N extensions.</p>

<h2 id="objectives">Objectives</h2>

<ul>
  <li>Evaluate plans for infrastructure for web-based sharing, deployment, and evaluation of extensions</li>
  <li>Begin implementation of the online archive for NWB:N extensions</li>
</ul>

<h2 id="approach-and-plan">Approach and Plan</h2>

<ul>
  <li>Work with attendees to evaluate the current plan</li>
  <li>Implement draft template repo for extensions</li>
  <li>Implement draft template repo for extension recipes</li>
</ul>

<h2 id="progress-and-next-steps">Progress and Next Steps</h2>

<ul>
  <li>Created GitHub organization to develop the NWB:N extensions catalog</li>
  <li>Created draft GitHub webpage for the extension catalog</li>
  <li>Created design documents for the extension catalog</li>
  <li>Created draft extension sharing and versioning guidelines</li>
  <li>Added continuous integration (using Azure-pipelines) to <a href="https://github.com/NeurodataWithoutBorders/nwb-docutils">NeurodataWithoutBorders/nwb-docutils</a>, <a href="https://github.com/nwb-extensions/ndx-template">nwb-extensions/ndx-template</a> and  <a href="https://github.com/NeurodataWithoutBorders/pynwb">NeurodataWithoutBorders/pynwb</a>
</li>
  <li>Consolidated documentation of <code class="language-plaintext highlighter-rouge">ndx-template</code> with the one generated by <code class="language-plaintext highlighter-rouge">nwb-docutils</code>
</li>
  <li>Reviewed conda-forge infrastructure and identified next step for enabling continuous-integration of <a href="https://github.com/nwb-extensions/staged-extensions">nwb-extensions/staged-extensions</a>
</li>
  <li>Discussed the flowchart for users creating and publishing their own extensions
    <ul>
      <li>Decided to simplify the initial creation of an extension using a web form</li>
      <li>Decided that <code class="language-plaintext highlighter-rouge">version</code> needs to be required on YAML spec files, and now that <a href="https://github.com/NeurodataWithoutBorders/matnwb/issues/42">MatNWB cache spec issue</a> has been fixed, <code class="language-plaintext highlighter-rouge">cache_spec</code> should default to True when writing an NWB file.</li>
      <li>Users can download the YAML files and associated source code for an extension using <code class="language-plaintext highlighter-rouge">pip</code>, which can install from either PyPi or GitHub: e.g. <code class="language-plaintext highlighter-rouge">pip install git+https://github.com/org/project</code> (see https://pip.pypa.io/en/stable/reference/pip_install/#vcs-support). It would be nice to have also a utility function for downloading an extension, e.g. <code class="language-plaintext highlighter-rouge">pynwb-install-ext &lt;extension_name&gt;</code> and <code class="language-plaintext highlighter-rouge">matnwb_install_ext &lt;extension_name&gt;</code>, which would automatically look up the source for the extension on our catalog and download the YAML files and any associated source code from PyPi or GitHub into the local filesystem.</li>
      <li>When downloading an extension, decided against having the API modify the local environment with pointers to YAML spec files stored somewhere not obvious, like in a new hidden directory in the user’s home directory.</li>
    </ul>
  </li>
  <li>
<strong>Next steps</strong>
    <ul>
      <li>Update <code class="language-plaintext highlighter-rouge">ndx-template</code> to include example of namespace file allowing the documentation to be successfully generated</li>
      <li>Enable continuous integration for <code class="language-plaintext highlighter-rouge">staged-extensions</code> to support linting, style check, removal of staged extension and creating of extension repository.</li>
      <li>Update pynwb to ensure extension schema is loaded after the extension is installed</li>
      <li>Remaining discussion questions:
        <ul>
          <li>If a file was made with extension v1 and another file was made with extension v2, how can you load both specs at runtime, especially if they are incompatible? Only one spec of a given namespace can be loaded at any one time. For now, this is a rare use case, but in 5-10 years, this could present a serious problem.</li>
          <li>What if a user has a custom, unpublished extension with the same namespace as an existing, published extension that has been cached in the file? API should throw an error and encourage the user to change the name of their extension. Not sure what happens now…</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h2 id="materials">Materials</h2>

<ul>
  <li>GitHub organization: <a href="https://github.com/nwb-extensions">https://github.com/nwb-extensions</a>
</li>
  <li>GitHub webpage for the NDX catalog: <a href="https://nwb-extensions.github.io/">https://nwb-extensions.github.io/</a>
</li>
</ul>

<h2 id="background-and-references">Background and References</h2>

<!--Use this space for information that may help people better understand your project, like links to papers, source code, or data ,e.g:-->
<!-- - Source code: https://github.com/YourUser/YourRepository -->
<!-- - Documentation: https://link.to.docs -->
<!-- - Test data: https://link.to.test.data -->


    </div>

    <script src="/nwb_hackathons/assets/javascript/anchor-js/anchor.min.js"></script>
    <script>anchors.add();</script>
    
    <script type="text/javascript">
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-134749152-2', 'auto');
      ga('send', 'pageview');
    </script>
    
  </body>
</html>
